[[TOC]]

[TOC]



# VUE常用语法

## 1. 子组件调用父组件方法

### 1.1 子组件使用this.$parent.event

第一种方法是直接在子组件中通过this.$parent.event来调用父组件的方法

父组件：

```vue
<template>
  <child></child>
</template>
<script>
  import child from '~/components/dam/child';
  export default {
    components: { child },
    methods: {
      fatherMethod() { console.log('测试'); }
    }
  };
</script>
```

子组件：

```vue
<template>
  <button @click="childMethod()">点击</button>
</template>
<script>
  export default {
    methods: {
      childMethod() {
        this.$parent.fatherMethod();
      }
    }
  };
</script>
```

### 1.2 子组件使用$emit

第二种方法是在子组件里用`$emit`向父组件触发一个事件，父组件监听这个事件就行了。

`$emit`也可以在子组件的html中使用。

父组件：

```vue
<template>
  <child @fatherMethod="fatherMethod"></child>
</template>
<script>
  import child from '~/components/dam/child';
  export default {
    components: { child },
    methods: { fatherMethod() { console.log('测试'); } }
  };
</script>
```

子组件：

```vue

<template>
  <div>
    <button @click="childMethod()">点击</button>
    <button @click="$emit('fatherMethod')")>也可以直接在html中使用</button>
  </div>
</template>
<script>
  export default {
    methods: {
      childMethod() { this.$emit('fatherMethod'); }
    }
  };
</script>
```

### 1.3 方法当属性传入子组件直接使用

第三种是父组件把方法传入子组件中，在子组件里直接调用这个方法

父组件：

```vue
<template>
  <child :fatherMethod="fatherMethod"></child>
</template>
<script>
  import child from '~/components/dam/child';
  export default {
    components: { child },
    methods: {
      fatherMethod() { console.log('测试'); }
    }
  };
</script>
```

子组件：

```vue
<template>
    <button @click="childMethod()">点击</button>
</template>
<script>
  export default {
    props: {
      fatherMethod: {
        type: Function,
        default: null
      }
    },
    methods: {
      childMethod() {
        if (this.fatherMethod) { this.fatherMethod(); }
      }
    }
  };
</script>
```









